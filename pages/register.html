<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro - Celeste & Mewave</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">            
  <link rel="stylesheet" href="../styles/normalize.css">
  <link rel="stylesheet" href="../styles/styles.css">
  <link rel="stylesheet" href="../styles/header-styles.css">
  <link rel="stylesheet" href="../styles/mewave-styles.css">
  <link rel="stylesheet" href="../styles/login-styles.css">
  <link rel="icon" href="../assets/icons/favicon.png" type="image/png">
</head>
<body>
  <header class="site-header">
    <div class="logo">
      <img id="celeste-logo" src="../assets/icons/celeste-logo.svg" alt="Celeste Logo">
      x
      <img id="mewave-logo" src="../assets/icons/mewave-logo.svg" alt="Mewave Logo">
    </div>

    <nav class="main-nav">
      <a href="../pages/about.html">Sobre nosotros</a>
      <a href="../index.html">Tiendas</a>
      <a href="promotions.html">Promociones</a>
      <a href="nuevo.html">¡Nuevo!</a>
    </nav>

    <div class="search-bar">
      <input type="text" placeholder="Busca un producto...">
      <button type="submit"><img src="../assets/icons/search.svg" alt="Search"></button>
    </div>

    <div class="icons">
      <a href="cart.html"><img src="../assets/icons/cart.svg" alt="Cart" class="icon"></a>
      <a href="profile.html"><img src="../assets/icons/user.svg" alt="User" class="icon"></a>
    </div>
  </header>

  <main class="login-main">
    <div class="background-shapes">
      <div class="shape shape-top"></div>
      <div class="shape shape-bottom"></div>
    </div>

    <section class="login-container">
      <div class="login-box">
        <div class="login-logo">
          <svg width="249" height="25" viewBox="0 0 249 25" fill="none" xmlns="http://www.w3.org/2000/svg" class="celeste-logo">
            <path d="M139.088 13.8464V21.9867H134.932V14.4822C134.932 12.1817 133.894 11.1265 132.212 11.1265C130.345 11.1265 129.04 12.316 129.04 14.8525V21.9867H124.884V14.4822C124.884 12.1817 123.899 11.1265 122.164 11.1265C120.327 11.1265 119.019 12.316 119.019 14.8525V21.9867H114.869V7.76745H118.84V9.40599C119.908 8.1902 121.504 7.55444 123.344 7.55444C125.343 7.55444 127.048 8.32128 128.059 9.88117C129.206 8.42615 131.069 7.55444 133.227 7.55444C136.636 7.55444 139.088 9.51086 139.088 13.8432V13.8464Z" fill="black"/>
            <path d="M158.804 16.0389H147.96C148.359 17.8086 149.879 18.8933 152.063 18.8933C153.583 18.8933 154.674 18.4443 155.662 17.5202L157.872 19.8993C156.54 21.4068 154.541 22.1999 151.958 22.1999C147.001 22.1999 143.777 19.1096 143.777 14.8789C143.777 10.6481 147.054 7.55786 151.422 7.55786C155.79 7.55786 158.883 10.3598 158.883 14.9313C158.883 15.2492 158.83 15.6981 158.804 16.0422V16.0389ZM147.907 13.6336H154.968C154.674 11.8377 153.316 10.6744 151.452 10.6744C149.589 10.6744 148.201 11.8115 147.907 13.6336Z" fill="black"/>
            <path d="M186.274 7.76758L181.08 21.9868H177.082L173.858 13.1617L170.527 21.9868H166.529L161.361 7.76758H165.277L168.66 17.3858L172.179 7.76758H175.695L179.105 17.3858L182.594 7.76758H186.271H186.274Z" fill="black"/>
            <path d="M202.286 13.8727V21.9867H198.397V20.2171C197.624 21.5116 196.134 22.1997 194.026 22.1997C190.669 22.1997 188.67 20.3515 188.67 17.8937C188.67 15.4359 190.454 13.64 194.826 13.64H198.13C198.13 11.8704 197.062 10.8381 194.826 10.8381C193.306 10.8381 191.733 11.3395 190.695 12.1588L189.202 9.27822C190.775 8.16729 193.091 7.56104 195.384 7.56104C199.752 7.56104 202.286 9.56989 202.286 13.876V13.8727ZM198.13 17.4906V16.0388H195.278C193.332 16.0388 192.721 16.7532 192.721 17.7036C192.721 18.7359 193.6 19.4208 195.067 19.4208C196.451 19.4208 197.651 18.785 198.13 17.4906Z" fill="black"/>
            <path d="M221.87 7.76758L215.82 21.9868H211.531L205.511 7.76758H209.8L213.771 17.4382L217.875 7.76758H221.873H221.87Z" fill="black"/>
            <path d="M239.002 16.0389H228.158C228.557 17.8086 230.077 18.8933 232.261 18.8933C233.781 18.8933 234.872 18.4443 235.86 17.5202L238.07 19.8993C236.738 21.4068 234.739 22.1999 232.156 22.1999C227.199 22.1999 223.975 19.1096 223.975 14.8789C223.975 10.6481 227.252 7.55786 231.62 7.55786C235.988 7.55786 239.081 10.3598 239.081 14.9313C239.081 15.2492 239.028 15.6981 239.002 16.0422V16.0389ZM228.105 13.6336H235.166C234.872 11.8377 233.514 10.6744 231.65 10.6744C229.787 10.6744 228.399 11.8115 228.108 13.6336H228.105Z" fill="black"/>
            <path d="M242.706 19.6077C242.706 18.0741 243.852 17.0713 245.289 17.0713C246.727 17.0713 247.873 18.0741 247.873 19.6077C247.873 21.1414 246.727 22.1966 245.289 22.1966C243.852 22.1966 242.706 21.1119 242.706 19.6077Z" fill="black"/>
            <path d="M98.6921 20L101.73 16.052L101.716 16.388L98.8461 12.692H99.6441L102.15 15.926H101.856L104.348 12.692H105.132L102.234 16.43L102.248 16.052L105.328 20H104.502L101.856 16.556L102.122 16.584L99.4901 20H98.6921Z" fill="black"/>
            <path d="M17.3614 18.3258C15.8713 22.3635 13.2306 24.5987 9.50249 24.5987C4.1308 24.5987 0 20.0023 0 13.1075C0 6.21283 4.1308 1.64648 9.8449 1.64648C12.5458 1.64648 14.9372 2.60796 16.1808 4.16112C18.416 6.86477 15.9014 9.78209 13.6032 5.27874C13.0444 4.22413 11.6775 1.95602 9.31896 1.95602C6.02637 1.95602 3.35559 6.42923 3.35559 12.483C3.35559 18.5368 6.02637 23.01 10.4996 23.01C13.5128 23.01 15.5919 20.961 17.145 18.0711L17.3642 18.3204L17.3614 18.3258Z" fill="black"/>
            <path d="M31.6193 20.5281C30.5017 22.2676 28.3897 24.5959 25.0971 24.5959C21.1827 24.5959 17.9531 21.2732 17.9531 16.3973C17.9531 11.5214 21.2128 8.01245 25.0642 8.01245C28.9156 8.01245 31.1207 11.2119 31.1207 16.0549V16.3645H21.306C21.4621 20.4021 23.2317 23.3222 26.0887 23.3222C27.9213 23.3222 30.1264 22.1416 31.4001 20.309L31.6165 20.5254L31.6193 20.5281ZM27.7679 16.0577C27.7679 11.4612 26.8365 8.32473 24.9711 8.32473C23.1057 8.32473 21.306 11.5242 21.306 15.8413V16.0577H27.7652H27.7679Z" fill="black"/>
            <path d="M36.9333 23.9767V24.2863H31.2192V23.9767H31.841C32.2136 23.9767 32.493 23.7275 32.493 23.3248V9.81477C32.4629 8.94368 32.4629 8.13834 32.43 7.42339C32.0876 7.45352 31.778 7.45353 31.4685 7.45353C28.4252 7.45353 25.9407 6.08663 25.9407 3.66513C25.9407 1.7093 27.6171 0.342407 30.3509 0.342407C33.4873 0.342407 34.9172 2.17497 35.4432 6.45917C40.2889 4.75261 46.5317 0 54.7303 0C59.7294 0 63.8301 1.80243 64.8847 4.44034C65.4435 5.80723 65.0409 7.04811 63.7671 7.04811C63.085 7.04811 62.2441 6.64544 61.0963 5.58809C59.0145 3.66239 56.0643 2.04897 52.3992 2.04897C47.0878 2.04897 40.845 5.43469 35.4733 6.83171C35.5664 7.7028 35.6294 8.63415 35.6596 9.65863V23.3221C35.6596 23.7247 35.939 23.974H36.3115 23.974H36.9333V23.9767ZM29.9455 0.684815C28.7977 0.684815 28.1759 1.73943 28.1759 3.16932C28.1759 5.65383 30.1317 7.02072 32.3998 7.05085C32.1807 3.04332 31.6849 0.684815 29.9455 0.684815Z" fill="black"/>
            <path d="M50.2873 20.5281C49.1696 22.2676 47.0577 24.5959 43.7651 24.5959C39.8507 24.5959 36.6211 21.2732 36.6211 16.3973C36.6211 11.5214 39.8808 8.01245 43.7322 8.01245C47.5836 8.01245 49.7887 11.2119 49.7887 16.0549V16.3645H39.9739C40.1301 20.4021 41.8996 23.3222 44.7567 23.3222C46.5893 23.3222 48.7944 22.1416 50.0681 20.309L50.2845 20.5254L50.2873 20.5281ZM46.4386 16.0577C46.4386 11.4612 45.5073 8.32473 43.6418 8.32473C41.7764 8.32473 39.9767 11.5242 39.9767 15.8413V16.0577H46.4359H46.4386Z" fill="black"/>
            <path d="M51.1007 12.3626C51.1007 10.0342 53.2428 8.01538 56.8148 8.01538C58.7405 8.01538 61.0058 8.63719 62.0002 10.0972C63.274 11.9599 60.9757 13.2337 59.765 10.719C59.3623 9.88082 58.2721 8.32766 56.5354 8.32766C55.0754 8.32766 53.9577 9.47541 53.9577 10.8423C53.9577 14.7238 63.0274 14.817 63.0274 19.912C63.0274 22.6458 60.4799 24.6016 56.7545 24.6016C54.6727 24.6016 52.4073 24.0099 51.413 22.5198C50.1392 20.6571 52.4374 19.4134 53.6482 21.8979C54.0509 22.769 55.1384 24.2893 57.1271 24.2893C58.9898 24.2893 60.1704 22.9854 60.1704 21.3391C60.1704 16.8358 51.1007 17.1481 51.1007 12.3626Z" fill="black"/>
            <path d="M68.1197 4.19366V8.32446H73.2449V8.66687H68.1197V16.8025C68.1197 21.0894 68.3991 23.3246 70.3878 23.3246C71.878 23.3246 73.1518 22.144 74.3954 20.3115L74.6118 20.5279C73.4942 22.2673 71.7246 24.5957 68.7416 24.5957C65.7585 24.5957 64.9532 22.2344 64.9532 17.2654V8.66413H62.9343V8.32172H65.1093L67.8102 4.19092H68.1197V4.19366Z" fill="black"/>
            <path d="M74.7078 16.3071C74.7078 11.4614 78.0004 8.01538 81.8189 8.01538C85.6375 8.01538 87.8754 11.2148 87.8754 16.0578V16.3674H78.0607C78.2168 20.4681 80.0494 23.851 84.0843 23.851C88.4315 23.851 91.2885 19.9996 89.8285 15.8688C88.4315 11.9544 91.4118 9.87534 91.9734 14.2554C92.5952 19.5038 88.6178 24.5989 82.7174 24.5989C77.8114 24.5989 74.7051 21.12 74.7051 16.3071H74.7078ZM84.5226 16.0578C84.5226 11.4614 83.5912 8.32492 81.7258 8.32492C79.8604 8.32492 78.0607 11.5244 78.0607 15.8414V16.0578H84.5198H84.5226Z" fill="black"/>
          </svg>
        </div>

        <p class="login-subtitle">Crea tu cuenta</p>

        <form class="login-form" id="registerForm">
          <div class="input-group">
            <img src="../assets/icons/user.svg" alt="nombre" class="input-icon">
            <input type="text" id="firstName" placeholder="Nombre" required>
          </div>

          <div class="input-group">
            <img src="../assets/icons/user.svg" alt="apellido" class="input-icon">
            <input type="text" id="lastName" placeholder="Apellido" required>
          </div>

          <div class="input-group">
            <img src="../assets/icons/email_icon.svg" alt="email" class="input-icon">
            <input type="text" id="emailOrPhone" placeholder="Email o Teléfono" required>
          </div>

          <div class="input-group">
            <img src="../assets/icons/key_icon.svg" alt="contraseña" class="input-icon">
            <input type="password" id="password" placeholder="Contraseña" required>
          </div>

          <div id="errorMessage" class="error-message" style="display: none; color: red; margin-bottom: 10px;"></div>
          <div id="successMessage" class="success-message" style="display: none; color: green; margin-bottom: 10px;"></div>

          <button type="submit" class="btn-login" id="registerBtn">Registrarse</button>
          <a href="login.html" class="create-account">Ya tienes cuenta? Entra</a>
        </form>
      </div>
    </section>
    <a href="../index.html" class="go-store">¡Ve a las tiendas!</a>
  </main>

  <footer class="site-footer">
    <div class="footer-top">
      <div class="footer-left">
        <img src="../assets/icons/celestexmewave.svg" alt="Celeste x mewave" class="footer-logo">
        <p>Una alianza entre madre e hijo y sus tiendas de ropa, vestimos para que tengas estilo.</p>
      </div>

      <div class="footer-right">
        <ul class="contacto-celeste">
          <li><img src="../assets/icons/whatsappicon.svg" alt="Whatsapp"> +57 3113464324</li>
          <li><img src="../assets/icons/instagramicon.svg" alt="Instagram"> @celestafemenina</li>
          <li><img src="../assets/icons/facebookicon.svg" alt="Facebook"> Celesta Femenina</li>
        </ul>
        <ul class="contacto-mewave">
          <li><img src="../assets/icons/whatsappicon.svg" alt="Whatsapp"> +57 3103478044</li>
          <li><img src="../assets/icons/instagramicon.svg" alt="Instagram"> @mewave.co</li>
        </ul>
      </div>
    </div>

    <hr style="margin:0; border:none; border-top:1px solid #ccc;">

    <div class="footer-bottom">
      <p>celestxmewave.com © 2010 - 2025, todos los derechos reservados</p>
      <div class="payment-methods">
        <img id="visa" src="../assets/icons/visa.svg" alt="Visa">
        <img id="mastercard" src="../assets/icons/mastercard.svg" alt="Mastercard">
        <img id="applepay" src="../assets/icons/applepay.svg" alt="Apple Pay">
        <img id="nequi" src="../assets/icons/nequi.svg" alt="Nequi">
      </div>
    </div>
  </footer>
  <script src="../assets/js/api-client.js"></script>
  <script>
    document.getElementById('registerForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const firstName = document.getElementById('firstName').value;
      const lastName = document.getElementById('lastName').value;
      const emailOrPhone = document.getElementById('emailOrPhone').value;
      const password = document.getElementById('password').value;
      const errorMessage = document.getElementById('errorMessage');
      const successMessage = document.getElementById('successMessage');
      const registerBtn = document.getElementById('registerBtn');
      
      try {
        registerBtn.disabled = true;
        registerBtn.textContent = 'Registrando...';
        errorMessage.style.display = 'none';
        successMessage.style.display = 'none';
        
        // determina si es numero o email
        let email = '';
        let phone = '';
        
        if (emailOrPhone.includes('@')) {
          email = emailOrPhone;
        } else {
          phone = emailOrPhone;
        }
        
        const response = await apiClient.register(email, phone, firstName, lastName, password);
        
        if (response.access_token) {
          // resgistro exitosp
          successMessage.textContent = '¡Registro exitoso! Redirigiendo a tu perfil...';
          successMessage.style.display = 'block';
          
          // timeout para redirigirte a la pagina de perfil
          setTimeout(() => {
            window.location.href = 'profile.html';
          }, 2000);
        } else {
          throw new Error(response.message || 'Registration failed');
        }
      } catch (error) {
        errorMessage.textContent = error.message || 'Error al registrarse. Por favor intenta de nuevo.';
        errorMessage.style.display = 'block';
        registerBtn.disabled = false;
        registerBtn.textContent = 'Registrarse';
      }
    });
  </script>
  <script src="../assets/js/api-client.js"></script>
  <script src="../assets/js/header.js"></script>
</body>
</html>